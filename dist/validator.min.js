!function(e,n){if("function"==typeof define&&define.amd)define(["exports"],n);else if("undefined"!=typeof exports)n(exports);else{var t={};n(t),e.index=t}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),b=function(e){return console.log(e)},r={through:!0},t=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.rules=e,this.options=Object.assign(r,n)}return n(t,[{key:"validate",value:function(e){for(var n=this.options.through,t=!0,r=function(e){var n=[];for(i in e)n.push(i);return n}(e),o=0;o<r.length;o++){var u=r[o];if(!n&&!t)break;for(var a=0;a<this.rules.length;a++){var f=this.rules[a];if(u===f.field){var s=f.isRequired,l=f.fieldDesc,c=f.re,v=f.message,d=f.callback,h=void 0===d?b:d,p=e[u];if(s&&!p){h(l+"不能为空"),t=!1;break}if(p&&c&&!c.test(p)){h(v),t=!1;break}}}}return t}},{key:"run",value:function(e){return this.validate(e)}}]),t}();e.default=t});