!function(e,n){if("function"==typeof define&&define.amd)define(["exports"],n);else if("undefined"!=typeof exports)n(exports);else{var r={};n(r),e.index=r}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function(e){return message.error(e)},t={through:!0},r=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.rules=e,this.options=Object.assign(t,n)}return n(r,[{key:"validate",value:function(e){for(var n=this.options.through,r=!0,t=function(e){var n=[];for(i in e)n.push(i);return n}(e),o=0;o<t.length;o++){var a=t[o];if(!n&&!r)break;for(var u=0;u<this.rules.length;u++){var f=this.rules[u];if(a===f.field){var s=f.isRequired,l=f.fieldDesc,c=f.re,v=f.message,d=f.callback,h=void 0===d?b:d,p=e[a];if(s&&!p){h(l+"不能为空"),r=!1;break}if(p&&c&&!c.test(p)){h(v),r=!1;break}}}}return r}},{key:"run",value:function(e){return this.validate(e)}}]),r}();e.default=r});