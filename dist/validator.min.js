!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Validator=e()}}(function(){var e=function(){function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}}();var r={through:!1,callback:function(e){return console.error(e)}};return function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.rules=e,this.options=Object.assign(r,n)}return e(t,[{key:"validate",value:function(e){for(var n=this.options.through,t=!0,r=function(e){var n=[];for(i in e)n.push(i);return n}(e),o=0;o<r.length;o++){var a=r[o];if(!n&&!t)break;for(var f=0;f<this.rules.length;f++){var u=this.rules[f];if(a===u.field){var l=u.isRequired,s=u.fieldDesc,c=u.re,d=u.message,h=u.callback,v=void 0===h?this.options.callback:h,p=e[a];if(l&&!p){v(s+"不能为空"),t=!1;break}if(p&&c&&!c.test(p)){v(d),t=!1;break}}}}return t}},{key:"run",value:function(e){return this.validate(e)}}]),t}()});